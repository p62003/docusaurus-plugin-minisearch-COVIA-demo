<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-README_zh" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Covia Docusaurus MiniSearch Plugin | docusaurus-plugin-minisearch-COVIA-demo</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://p62003.github.io/docusaurus-plugin-minisearch-COVIA-demo/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://p62003.github.io/docusaurus-plugin-minisearch-COVIA-demo/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://p62003.github.io/docusaurus-plugin-minisearch-COVIA-demo/docs/README_zh/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Covia Docusaurus MiniSearch Plugin | docusaurus-plugin-minisearch-COVIA-demo"><meta data-rh="true" name="description" content="Covia MiniSearch Plugin 是一個為 Docusaurus 小型至中型知識庫網站設計的輕量型本地搜尋解決方案。"><meta data-rh="true" property="og:description" content="Covia MiniSearch Plugin 是一個為 Docusaurus 小型至中型知識庫網站設計的輕量型本地搜尋解決方案。"><link data-rh="true" rel="icon" href="/docusaurus-plugin-minisearch-COVIA-demo/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://p62003.github.io/docusaurus-plugin-minisearch-COVIA-demo/docs/README_zh/"><link data-rh="true" rel="alternate" href="https://p62003.github.io/docusaurus-plugin-minisearch-COVIA-demo/docs/README_zh/" hreflang="en"><link data-rh="true" rel="alternate" href="https://p62003.github.io/docusaurus-plugin-minisearch-COVIA-demo/docs/README_zh/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/docusaurus-plugin-minisearch-COVIA-demo/blog/rss.xml" title="docusaurus-plugin-minisearch-COVIA-demo RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/docusaurus-plugin-minisearch-COVIA-demo/blog/atom.xml" title="docusaurus-plugin-minisearch-COVIA-demo Atom Feed">




<style>
                            :root {
                                --search-highlight-color: #ffeb3b;
                            }
                            
                            /* 全局高亮樣式，確保最高優先級 */
                            .search-highlight,
                            span[style*="background-color:#ffeb3b"],
                            mark[style*="background-color:#ffeb3b"] {
                                background-color: #ffeb3b !important;
                                color: #000 !important;
                                padding: 0 2px !important;
                                border-radius: 2px !important;
                                font-weight: bold !important;
                                display: inline !important;
                            }
                            
                            /* 確保 dangerouslySetInnerHTML 中的 HTML 標籤正確顯示 */
                            .resultExcerpt span,
                            .resultExcerpt mark {
                                display: inline !important;
                            }
                        </style><link rel="stylesheet" href="/docusaurus-plugin-minisearch-COVIA-demo/assets/css/styles.f3164b7e.css">
<script src="/docusaurus-plugin-minisearch-COVIA-demo/assets/js/runtime~main.a7cf88f0.js" defer="defer"></script>
<script src="/docusaurus-plugin-minisearch-COVIA-demo/assets/js/main.c18ef1f1.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/docusaurus-plugin-minisearch-COVIA-demo/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docusaurus-plugin-minisearch-COVIA-demo/"><div class="navbar__logo"><img src="/docusaurus-plugin-minisearch-COVIA-demo/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docusaurus-plugin-minisearch-COVIA-demo/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Demo</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docusaurus-plugin-minisearch-COVIA-demo/docs/intro/">Tutorial</a><a class="navbar__item navbar__link" href="/docusaurus-plugin-minisearch-COVIA-demo/blog/">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><form class="searchForm_X2Bf"><input type="text" placeholder="搜尋文檔..." class="searchInput_TSFF" aria-label="搜尋文檔" value=""><button type="submit" class="searchButton_m1tm" aria-label="搜尋">🔍</button></form></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docusaurus-plugin-minisearch-COVIA-demo/docs/intro/">Tutorial Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docusaurus-plugin-minisearch-COVIA-demo/docs/category/tutorial---basics/">Tutorial - Basics</a><button aria-label="Expand sidebar category &#x27;Tutorial - Basics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docusaurus-plugin-minisearch-COVIA-demo/docs/category/tutorial---extras/">Tutorial - Extras</a><button aria-label="Expand sidebar category &#x27;Tutorial - Extras&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docusaurus-plugin-minisearch-COVIA-demo/docs/">Covia Docusaurus MiniSearch Plugin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docusaurus-plugin-minisearch-COVIA-demo/docs/README_zh/">Covia Docusaurus MiniSearch Plugin</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docusaurus-plugin-minisearch-COVIA-demo/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Covia Docusaurus MiniSearch Plugin</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Covia Docusaurus MiniSearch Plugin</h1></header>
<p>Covia MiniSearch Plugin 是一個為 Docusaurus 小型至中型知識庫網站設計的輕量型本地搜尋解決方案。<br>
<!-- -->它主打快速部署、簡單整合，特別適合不具備專業開發背景的使用者。<br>
<!-- -->此插件完全於前端運行，無需額外的後端伺服器支持，適合個人、團隊與中小型專案使用。</p>
<blockquote>
<p>📢 <strong>重要說明</strong><br>
<!-- -->本插件設計目標為<strong>中小型、主要以英文內容為主</strong>的網站。<br>
<!-- -->本插件<strong>不適用於</strong>以下情境：</p>
<ul>
<li>超大型文件資料庫</li>
<li>多語言網站</li>
<li>需要<strong>中文（繁體或簡體）斷詞優化</strong>的場景</li>
</ul>
<p>⚠️ 由於底層 MiniSearch 的斷詞機制限制，<strong>本插件無法正確支援中文搜尋</strong>。建議僅使用於英文或其他以空格分隔單詞的語言。</p>
<p>若有大型、多語言或中文搜尋優化等進階需求，建議改用如 <code>@easyops-cn/docusaurus-search-local</code> 等其他解決方案。</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-live-demo--線上展示">🌟 Live Demo / 線上展示<a href="#-live-demo--線上展示" class="hash-link" aria-label="Direct link to 🌟 Live Demo / 線上展示" title="Direct link to 🌟 Live Demo / 線上展示">​</a></h2>
<p>您可以在此查看本插件的線上示範網站：<br>
<!-- -->🔗 <a href="https://p62003.github.io/docusaurus-plugin-minisearch-COVIA-demo/docs/" target="_blank" rel="noopener noreferrer">https://p62003.github.io/docusaurus-plugin-minisearch-COVIA-demo/docs/</a></p>
<p>🌐 Available Languages:</p>
<ul>
<li><a href="/docusaurus-plugin-minisearch-COVIA-demo/docs/">English (Default)</a></li>
<li><a href="/docusaurus-plugin-minisearch-COVIA-demo/docs/README_zh/">繁體中文 (Traditional Chinese)</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="檔案結構">檔案結構<a href="#檔案結構" class="hash-link" aria-label="Direct link to 檔案結構" title="Direct link to 檔案結構">​</a></h2>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">my-website/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── plugins/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── docusaurus-plugin-minisearch/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── index.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── indexGenerator.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── SearchBar.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── SearchResults.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── styles.module.css</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── README.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       └── LICENSE</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="功能特點">功能特點<a href="#功能特點" class="hash-link" aria-label="Direct link to 功能特點" title="Direct link to 功能特點">​</a></h2>
<ul>
<li><strong>即時搜尋</strong>：提供高效、即時的前端搜尋體驗</li>
<li><strong>關鍵字高亮</strong>：使用多層次匹配策略，從精確匹配到模糊匹配</li>
<li><strong>模糊搜尋</strong>：支援拼寫錯誤和近似匹配（容許 20% 的編輯距離）</li>
<li><strong>前綴搜尋</strong>：支援輸入部分詞語進行匹配</li>
<li><strong>字段加權</strong>：對標題設置更高權重（2倍），提高相關性</li>
<li><strong>無縫整合</strong>：完美融入 Docusaurus 主題，支援明暗模式切換</li>
<li><strong>完整布局</strong>：搜尋結果頁面包含頁首和頁尾，保持網站一致性</li>
<li><strong>自動索引</strong>：在建置時自動生成搜尋索引，並複製到多個位置增強兼容性</li>
<li><strong>智能搜尋延遲</strong>：當 3 秒內搜尋次數超過 2 次時，自動啟用節流機制</li>
<li><strong>多路徑兼容</strong>：自動嘗試多個可能的索引路徑，確保在不同環境下正常工作</li>
<li><strong>URL 智能修復</strong>：自動檢測基礎路徑，修復搜尋結果鏈接</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="安裝方式">安裝方式<a href="#安裝方式" class="hash-link" aria-label="Direct link to 安裝方式" title="Direct link to 安裝方式">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="先決條件">先決條件<a href="#先決條件" class="hash-link" aria-label="Direct link to 先決條件" title="Direct link to 先決條件">​</a></h3>
<ul>
<li>Docusaurus v3.0.0 或以上版本</li>
<li>Node.js v16.0.0 或以上版本</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="步驟">步驟<a href="#步驟" class="hash-link" aria-label="Direct link to 步驟" title="Direct link to 步驟">​</a></h3>
<p><strong>1. 在你的 Docusaurus 項目中安裝必要依賴及插件目錄：</strong></p>
<ul>
<li>必須安裝的必要依賴：</li>
</ul>
<table><thead><tr><th>套件</th><th>說明</th><th>安裝指令</th></tr></thead><tbody><tr><td>minisearch</td><td>前端全文搜尋引擎</td><td>npm install minisearch</td></tr><tr><td>globby</td><td>檔案路徑抓取工具</td><td>npm install globby</td></tr><tr><td>gray-matter</td><td>解析 .md / .mdx 前置 metadata</td><td>npm install gray-matter</td></tr></tbody></table>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm install minisearch globby gray-matter</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>創建插件目錄：</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p plugins/docusaurus-plugin-minisearch</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>2. 複製插件檔案到該目錄：</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 複製以下檔案到插件目錄</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># - index.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># - indexGenerator.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># - SearchBar.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># - SearchResults.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># - styles.module.css</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>3. 在 <code>docusaurus.config.js</code> 中添加插件配置：</strong></p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// docusaurus.config.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 其他配置...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">plugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&#x27;./plugins/docusaurus-plugin-minisearch&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 基本配置（必要）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">indexPath</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;/search-index.json&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 搜尋索引檔案路徑</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">searchResultPath</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;/search-results&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 搜尋結果顯示頁面路徑</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">searchFields</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;title&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;content&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 要搜尋的欄位</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">resultFields</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;title&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;url&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;excerpt&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 要顯示的結果欄位</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 可選配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">maxResults</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 最大顯示結果數量</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">highlightColor</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;#ffeb3b&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 搜尋關鍵字高亮顏色</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">debounceTime</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3000</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 連續搜尋的最小間隔時間(毫秒)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="配置選項">配置選項<a href="#配置選項" class="hash-link" aria-label="Direct link to 配置選項" title="Direct link to 配置選項">​</a></h2>
<p>下表列出了所有可用的配置選項，這些選項在 <code>index.js</code> 中定義：</p>
<table><thead><tr><th>選項</th><th>類型</th><th>默認值</th><th>必要性</th><th>說明</th></tr></thead><tbody><tr><td>indexPath</td><td>String</td><td>&#x27;/search-index.json&#x27;</td><td>可選</td><td>搜尋索引檔案路徑</td></tr><tr><td>searchResultPath</td><td>String</td><td>&#x27;/search-results&#x27;</td><td>可選</td><td>搜尋結果顯示頁面路徑</td></tr><tr><td>searchFields</td><td>Array</td><td>[&#x27;title&#x27;, &#x27;content&#x27;]</td><td>可選</td><td>要搜尋的欄位</td></tr><tr><td>resultFields</td><td>Array</td><td>[&#x27;title&#x27;, &#x27;url&#x27;, &#x27;excerpt&#x27;]</td><td>可選</td><td>要顯示的結果欄位</td></tr><tr><td>maxResults</td><td>Number</td><td>10</td><td>可選</td><td>最大顯示結果數量</td></tr><tr><td>highlightColor</td><td>String</td><td>&#x27;#ffeb3b&#x27;</td><td>可選</td><td>搜尋關鍵字高亮顏色</td></tr><tr><td>debounceTime</td><td>Number</td><td>3000</td><td>可選</td><td>連續搜尋的最小間隔時間(毫秒)</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="技術實現">技術實現<a href="#技術實現" class="hash-link" aria-label="Direct link to 技術實現" title="Direct link to 技術實現">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="插件架構">插件架構<a href="#插件架構" class="hash-link" aria-label="Direct link to 插件架構" title="Direct link to 插件架構">​</a></h3>
<p>插件由以下核心組件構成：</p>
<ol>
<li><strong>索引生成器 (indexGenerator.js)</strong> - 從文檔檔案生成搜尋索引</li>
<li><strong>搜尋框組件 (SearchBar.js)</strong> - 整合到 Docusaurus 導航欄，實現智能搜尋延遲功能</li>
<li><strong>搜尋結果頁面 (SearchResults.js)</strong> - 顯示搜尋結果，實現多層次高亮和 URL 修復</li>
<li><strong>插件主文件 (index.js)</strong> - 連接各組件，處理配置，注入全局樣式</li>
<li><strong>樣式文件 (styles.module.css)</strong> - 定義搜尋框、搜尋結果、高亮關鍵字等樣式</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用的關鍵技術">使用的關鍵技術<a href="#使用的關鍵技術" class="hash-link" aria-label="Direct link to 使用的關鍵技術" title="Direct link to 使用的關鍵技術">​</a></h3>
<ul>
<li><strong>MiniSearch</strong> - 輕量級但功能強大的前端全文搜尋引擎</li>
<li><strong>Docusaurus Theme API</strong> - 集成到 Docusaurus 主題系統</li>
<li><strong>React Hooks</strong> - 管理搜尋狀態和索引載入</li>
<li><strong>Docusaurus Plugin API</strong> - 註冊路由和共享配置數據</li>
<li><strong>CSS Modules</strong> - 組件樣式隔離，避免樣式衝突</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="工作原理">工作原理<a href="#工作原理" class="hash-link" aria-label="Direct link to 工作原理" title="Direct link to 工作原理">​</a></h3>
<ol>
<li>
<p><strong>索引生成</strong></p>
<ul>
<li>在建置時遍歷所有文檔檔案</li>
<li>提取標題、內容、URL 等信息</li>
<li>生成 JSON 索引檔案存放在 <code>static</code> 目錄</li>
<li>索引文件會被複製到多個位置，增強兼容性</li>
</ul>
</li>
<li>
<p><strong>搜尋流程</strong></p>
<ul>
<li>用戶在導航欄搜尋框輸入關鍵字</li>
<li>智能延遲功能檢測搜尋頻率，防止短時間內頻繁搜尋</li>
<li>點擊搜尋按鈕後導航至搜尋結果頁面</li>
<li>搜尋結果頁面嘗試從多個可能的路徑載入索引檔案</li>
<li>使用 MiniSearch 在瀏覽器中進行搜尋，支援前綴匹配、模糊匹配和字段加權</li>
<li>使用多層次匹配策略渲染搜尋結果並高亮關鍵字</li>
</ul>
</li>
<li>
<p><strong>高亮功能實現</strong></p>
<ul>
<li>使用多層次匹配策略，按優先順序嘗試：<!-- -->
<ol>
<li>原始查詢詞匹配（如搜尋&quot;READ&quot;時）</li>
<li>完整詞匹配（分詞後的每個詞）</li>
<li>包含匹配（包含搜尋詞的單詞）</li>
<li>部分詞匹配（長度&gt;=3的詞的子串）</li>
</ol>
</li>
<li>使用 CSS 和內聯樣式結合的方式確保高亮效果在各種環境下正常顯示</li>
</ul>
</li>
<li>
<p><strong>URL 修復機制</strong></p>
<ul>
<li>自動檢測當前環境的基礎路徑，使用多種方法：<!-- -->
<ol>
<li>從 Docusaurus meta 標籤獲取</li>
<li>檢查當前 URL 路徑</li>
<li>檢查是否在本地開發環境</li>
<li>從搜尋結果頁面 URL 獲取</li>
<li>從文檔鏈接推斷</li>
</ol>
</li>
<li>確保搜尋結果鏈接在不同部署環境下正確工作</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="自定義">自定義<a href="#自定義" class="hash-link" aria-label="Direct link to 自定義" title="Direct link to 自定義">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="自定義搜尋結果樣式">自定義搜尋結果樣式<a href="#自定義搜尋結果樣式" class="hash-link" aria-label="Direct link to 自定義搜尋結果樣式" title="Direct link to 自定義搜尋結果樣式">​</a></h3>
<p>修改 <code>styles.module.css</code> 檔案可自定義搜尋結果的外觀：</p>
<div class="language-css codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-css codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/* 修改搜尋結果項目樣式 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token selector class" style="color:#00009f">.resultItem</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">margin-bottom</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.5</span><span class="token unit">rem</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">padding</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.25</span><span class="token unit">rem</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">border-radius</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token unit">px</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">background-color</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">var</span><span class="token punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">--ifm-card-background-color</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">box-shadow</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">var</span><span class="token punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">--ifm-global-shadow-lw</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">transition</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> all </span><span class="token number" style="color:#36acaa">0.2</span><span class="token unit">s</span><span class="token plain"> ease</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">border-left</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token unit">px</span><span class="token plain"> solid </span><span class="token function" style="color:#d73a49">var</span><span class="token punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">--ifm-color-primary</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/* 修改高亮關鍵字樣式 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token selector class" style="color:#00009f">.highlight</span><span class="token selector punctuation" style="color:#393A34">,</span><span class="token selector" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token selector" style="color:#00009f"></span><span class="token selector pseudo-class" style="color:#00009f">:global</span><span class="token selector punctuation" style="color:#393A34">(</span><span class="token selector class" style="color:#00009f">.search-highlight</span><span class="token selector punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">background-color</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">var</span><span class="token punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">--search-highlight-color</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token hexcode color">#ffeb3b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token important">!important</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">color</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token hexcode color">#000</span><span class="token plain"> </span><span class="token important">!important</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">padding</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token unit">px</span><span class="token plain"> </span><span class="token important">!important</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">border-radius</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token unit">px</span><span class="token plain"> </span><span class="token important">!important</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">font-weight</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> bold </span><span class="token important">!important</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">display</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> inline </span><span class="token important">!important</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/* 節流狀態的搜尋框 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token selector class" style="color:#00009f">.throttled</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">border-color</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">var</span><span class="token punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">--ifm-color-warning</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token hexcode color">#f0ad4e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">background-color</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token color function" style="color:#d73a49">rgba</span><span class="token color punctuation" style="color:#393A34">(</span><span class="token color number" style="color:#36acaa">240</span><span class="token color punctuation" style="color:#393A34">,</span><span class="token color"> </span><span class="token color number" style="color:#36acaa">173</span><span class="token color punctuation" style="color:#393A34">,</span><span class="token color"> </span><span class="token color number" style="color:#36acaa">78</span><span class="token color punctuation" style="color:#393A34">,</span><span class="token color"> </span><span class="token color number" style="color:#36acaa">0.05</span><span class="token color punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">animation</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pulse </span><span class="token number" style="color:#36acaa">1.5</span><span class="token unit">s</span><span class="token plain"> infinite</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="自定義搜尋選項">自定義搜尋選項<a href="#自定義搜尋選項" class="hash-link" aria-label="Direct link to 自定義搜尋選項" title="Direct link to 自定義搜尋選項">​</a></h3>
<p>在 <code>SearchResults.js</code> 中修改搜尋選項：</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> hits </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> miniSearch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">search</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">query</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">prefix</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 前綴搜尋</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">boost</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">title</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 標題權重為 2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">fuzzy</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.2</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// 模糊搜尋，容許 20% 的編輯距離</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="常見問題">常見問題<a href="#常見問題" class="hash-link" aria-label="Direct link to 常見問題" title="Direct link to 常見問題">​</a></h2>
<p><strong>Q: 搜尋索引會增加網站大小嗎？</strong><br>
<!-- -->A: 會，但幅度有限。對於中小型文檔網站，索引通常在幾百KB範圍內。</p>
<p><strong>Q: 如何更新搜尋索引？</strong><br>
<!-- -->A: 每次重新建置網站時會自動更新索引。</p>
<p><strong>Q: 搜尋結果是否支援多語言？</strong><br>
<!-- -->A: 基本支援，但可能需要針對不同語言調整分詞設定。</p>
<p><strong>Q: 為什麼搜尋結果頁面顯示「頁面未找到」？</strong><br>
<!-- -->A: 這通常是由於路由衝突導致。確保 <code>searchResultPath</code> 設置為一個不與其他路由衝突的值。</p>
<p><strong>Q: 為什麼修改 indexPath 後，搜尋功能依然正常工作？</strong><br>
<!-- -->A: 插件設計了多重備份機制，會嘗試多個可能的索引路徑，確保即使配置有變化，功能也能正常運行。</p>
<p><strong>Q: 為什麼短時間內多次搜尋會被限制？</strong><br>
<!-- -->A: 插件實作了智能搜尋延遲功能，當 3 秒內搜尋次數超過 2 次時，會啟用節流機制，防止過度請求。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="技術限制">技術限制<a href="#技術限制" class="hash-link" aria-label="Direct link to 技術限制" title="Direct link to 技術限制">​</a></h2>
<ul>
<li>純前端搜尋，不適用於極大型文檔庫</li>
<li>搜尋索引需要在建置時生成，無法包含動態內容</li>
<li>目前沒有內置的搜尋建議功能</li>
<li>對於中文等亞洲語言，沒有專門的分詞優化</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="文檔更新與索引維護">文檔更新與索引維護<a href="#文檔更新與索引維護" class="hash-link" aria-label="Direct link to 文檔更新與索引維護" title="Direct link to 文檔更新與索引維護">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="添加新文檔後更新搜尋索引">添加新文檔後更新搜尋索引<a href="#添加新文檔後更新搜尋索引" class="hash-link" aria-label="Direct link to 添加新文檔後更新搜尋索引" title="Direct link to 添加新文檔後更新搜尋索引">​</a></h3>
<p>當你添加或修改文檔後，搜尋索引需要更新才能反映新內容。有以下幾種方式：</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="方法一完整重建站點">方法一：完整重建站點<a href="#方法一完整重建站點" class="hash-link" aria-label="Direct link to 方法一：完整重建站點" title="Direct link to 方法一：完整重建站點">​</a></h4>
<p>最直接的方法是重新構建整個網站：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm run build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 然後重新部署網站</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="方法二單獨更新索引文件適用於-vps伺服器部署">方法二：單獨更新索引文件（適用於 VPS/伺服器部署）<a href="#方法二單獨更新索引文件適用於-vps伺服器部署" class="hash-link" aria-label="Direct link to 方法二：單獨更新索引文件（適用於 VPS/伺服器部署）" title="Direct link to 方法二：單獨更新索引文件（適用於 VPS/伺服器部署）">​</a></h4>
<p>如果你只添加或修改了文檔內容，而不想重建整個網站，可以：</p>
<ol>
<li>
<p>在本地環境生成新的索引文件：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm start</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>等待索引生成完成（通常會在控制台看到 <code>✅ search-index.json 已複製到 [路徑] 成功</code> 的訊息）</p>
</li>
<li>
<p>將以下文件上傳到你的伺服器：</p>
<ul>
<li>新增的文檔文件</li>
<li>位於 <code>static/search-index.json</code> 的新索引文件</li>
</ul>
</li>
<li>
<p>確保索引文件上傳到正確位置，通常是：</p>
<ul>
<li><code>/path-to-your-website/search-index.json</code></li>
<li>以及插件可能嘗試的其他路徑</li>
</ul>
</li>
</ol>
<p>這種方法特別適合文檔頻繁更新但網站結構穩定的情況，可以節省部署時間並減少資源消耗。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="路徑與部署注意事項">路徑與部署注意事項<a href="#路徑與部署注意事項" class="hash-link" aria-label="Direct link to 路徑與部署注意事項" title="Direct link to 路徑與部署注意事項">​</a></h3>
<p>在不同環境（本地開發、GitHub Pages、自託管 VPS 等）中，網站的基礎路徑可能不同：</p>
<ul>
<li>本地開發：通常是 <code>http://localhost:3000/</code></li>
<li>GitHub Pages：通常是 <code>https://username.github.io/repo-name/</code></li>
<li>自託管：可能是 <code>https://your-domain.com/</code> 或 <code>https://your-domain.com/docs/</code></li>
</ul>
<p>插件會嘗試自動檢測當前環境的基礎路徑，並嘗試多個可能的索引路徑，但如果遇到問題（例如搜尋結果鏈接錯誤），可以在 <code>docusaurus.config.js</code> 中明確設置 <code>baseUrl</code>：</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">baseUrl</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;/your-base-path/&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 例如 &#x27;/docs/&#x27; 或 &#x27;/&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="實作細節與注意事項">實作細節與注意事項<a href="#實作細節與注意事項" class="hash-link" aria-label="Direct link to 實作細節與注意事項" title="Direct link to 實作細節與注意事項">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="多路徑嘗試機制">多路徑嘗試機制<a href="#多路徑嘗試機制" class="hash-link" aria-label="Direct link to 多路徑嘗試機制" title="Direct link to 多路徑嘗試機制">​</a></h3>
<p>插件會嘗試從多個可能的路徑加載索引文件：</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> possiblePaths </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 原始路徑</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    indexPath</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 相對路徑</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;./search-index.json&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 絕對路徑</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;/search-index.json&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 基於當前站點的路徑</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token dom variable" style="color:#36acaa">window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">location</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">pathname</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">split</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;/search-results&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;/search-index.json&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>這種設計確保即使配置有變化，搜索功能也能正常工作。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="智能搜尋延遲功能">智能搜尋延遲功能<a href="#智能搜尋延遲功能" class="hash-link" aria-label="Direct link to 智能搜尋延遲功能" title="Direct link to 智能搜尋延遲功能">​</a></h3>
<p>插件實作了智能搜尋延遲功能，只有在短時間內頻繁搜尋時才會啟動延遲：</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 檢查是否需要節流</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">checkThrottle</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> now </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Date</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> history </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> searchHistoryRef</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">current</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 添加當前搜尋時間到歷史記錄</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    history</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">now</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 只保留最近 3 秒內的記錄</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> recentHistory </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> history</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">time</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> now </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> time </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> debounceTime</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    searchHistoryRef</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">current</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> recentHistory</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 如果 3 秒內搜尋次數超過 2 次，則啟用節流</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> needThrottle </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> recentHistory</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="minisearch-使用注意事項">MiniSearch 使用注意事項<a href="#minisearch-使用注意事項" class="hash-link" aria-label="Direct link to MiniSearch 使用注意事項" title="Direct link to MiniSearch 使用注意事項">​</a></h3>
<p>使用 <code>MiniSearch.loadJSON</code> 時需直接傳入 JSON 字符串而非解析後的對象：</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 錯誤方式</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> rawIndex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token known-class-name class-name">JSON</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">parse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">text</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> miniSearch </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">MiniSearch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">loadJSON</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rawIndex</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> options</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 正確方式</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> miniSearch </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">MiniSearch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">loadJSON</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">text</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> options</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="路由設置注意事項">路由設置注意事項<a href="#路由設置注意事項" class="hash-link" aria-label="Direct link to 路由設置注意事項" title="Direct link to 路由設置注意事項">​</a></h3>
<p>避免搜尋結果路徑與 Docusaurus 默認路徑衝突：</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 推薦使用專用路徑</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">searchResultPath </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;/search-results&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 確保精確匹配</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">addRoute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">path</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> searchResultPath</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">component</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@theme/SearchResults&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">exact</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="授權協議">授權協議<a href="#授權協議" class="hash-link" aria-label="Direct link to 授權協議" title="Direct link to 授權協議">​</a></h2>
<p>本專案使用 MIT 授權協議。</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/README_zh.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docusaurus-plugin-minisearch-COVIA-demo/docs/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Covia Docusaurus MiniSearch Plugin</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#-live-demo--線上展示" class="table-of-contents__link toc-highlight">🌟 Live Demo / 線上展示</a></li><li><a href="#檔案結構" class="table-of-contents__link toc-highlight">檔案結構</a></li><li><a href="#功能特點" class="table-of-contents__link toc-highlight">功能特點</a></li><li><a href="#安裝方式" class="table-of-contents__link toc-highlight">安裝方式</a><ul><li><a href="#先決條件" class="table-of-contents__link toc-highlight">先決條件</a></li><li><a href="#步驟" class="table-of-contents__link toc-highlight">步驟</a></li></ul></li><li><a href="#配置選項" class="table-of-contents__link toc-highlight">配置選項</a></li><li><a href="#技術實現" class="table-of-contents__link toc-highlight">技術實現</a><ul><li><a href="#插件架構" class="table-of-contents__link toc-highlight">插件架構</a></li><li><a href="#使用的關鍵技術" class="table-of-contents__link toc-highlight">使用的關鍵技術</a></li><li><a href="#工作原理" class="table-of-contents__link toc-highlight">工作原理</a></li></ul></li><li><a href="#自定義" class="table-of-contents__link toc-highlight">自定義</a><ul><li><a href="#自定義搜尋結果樣式" class="table-of-contents__link toc-highlight">自定義搜尋結果樣式</a></li><li><a href="#自定義搜尋選項" class="table-of-contents__link toc-highlight">自定義搜尋選項</a></li></ul></li><li><a href="#常見問題" class="table-of-contents__link toc-highlight">常見問題</a></li><li><a href="#技術限制" class="table-of-contents__link toc-highlight">技術限制</a></li><li><a href="#文檔更新與索引維護" class="table-of-contents__link toc-highlight">文檔更新與索引維護</a><ul><li><a href="#添加新文檔後更新搜尋索引" class="table-of-contents__link toc-highlight">添加新文檔後更新搜尋索引</a></li><li><a href="#路徑與部署注意事項" class="table-of-contents__link toc-highlight">路徑與部署注意事項</a></li></ul></li><li><a href="#實作細節與注意事項" class="table-of-contents__link toc-highlight">實作細節與注意事項</a><ul><li><a href="#多路徑嘗試機制" class="table-of-contents__link toc-highlight">多路徑嘗試機制</a></li><li><a href="#智能搜尋延遲功能" class="table-of-contents__link toc-highlight">智能搜尋延遲功能</a></li><li><a href="#minisearch-使用注意事項" class="table-of-contents__link toc-highlight">MiniSearch 使用注意事項</a></li><li><a href="#路由設置注意事項" class="table-of-contents__link toc-highlight">路由設置注意事項</a></li></ul></li><li><a href="#授權協議" class="table-of-contents__link toc-highlight">授權協議</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docusaurus-plugin-minisearch-COVIA-demo/docs/intro/">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docusaurus-plugin-minisearch-COVIA-demo/blog/">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>