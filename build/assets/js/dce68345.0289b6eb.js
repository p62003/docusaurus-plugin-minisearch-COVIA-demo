"use strict";(self.webpackChunkcovia_plugin_demo=self.webpackChunkcovia_plugin_demo||[]).push([[3683],{9423:(s,e,l)=>{l.r(e),l.d(e,{default:()=>d});var c=l(6540),r=l(6347),i=l(513),n=l(6316),t=l(2077),a=l(4731),h=l(4848);function d(){const{searchConfig:s}=(0,t.P_)("docusaurus-plugin-minisearch")||{},{search:e}=(0,r.zy)(),l=new URLSearchParams(e).get("q")||"",[d,o]=(0,c.useState)([]),[u,x]=(0,c.useState)(!1),[j,g]=(0,c.useState)(null),{indexPath:m="/search-index.json",searchFields:p=["title","content"],resultFields:f=["title","url","excerpt"],maxResults:A=10}=s||{},N=(s,e)=>{if(!s||!e)return s;const l=e.trim().split(/\s+/).filter((s=>s.length>1));if(0===l.length)return s;let c=s;return l.forEach((s=>{const e=new RegExp(`(${s})`,"gi");c=c.replace(e,'<span class="'+a.A.highlight+'">$1</span>')})),c},v=s=>s.endsWith("/README")?s.substring(0,s.length-7)||"/docs":s;(0,c.useEffect)((()=>{!async function(){if(l){x(!0),g(null);try{console.log("\u958b\u59cb\u57f7\u884c\u641c\u5c0b..."),console.log(`\u4f7f\u7528\u7d22\u5f15\u8def\u5f91: ${m}`);try{const s=await fetch(m);if(!s.ok)throw new Error(`HTTP \u932f\u8aa4: ${s.status}`);const e=await s.text();console.log(`\u6210\u529f\u7372\u53d6\u7d22\u5f15\u5167\u5bb9\uff0c\u524d 50 \u500b\u5b57\u7b26: ${e.slice(0,50)}`);const c=i.A.loadJSON(e,{fields:p,storeFields:f});console.log(`\u4f7f\u7528\u95dc\u9375\u8a5e "${l}" \u57f7\u884c\u641c\u5c0b`);const r=c.search(l,{prefix:!0,boost:{title:2},fuzzy:.2});console.log(`\u627e\u5230 ${r.length} \u500b\u7d50\u679c`),o(r.slice(0,A))}catch(s){console.error("\u641c\u5c0b\u51fa\u932f:",s),g(s.message)}}finally{x(!1)}}}()}),[l,m,p,f,A]);return(0,h.jsx)(n.A,{title:l?`\u641c\u5c0b\u7d50\u679c: ${l}`:"\u641c\u5c0b",description:"\u6587\u6a94\u641c\u5c0b\u7d50\u679c",children:(0,h.jsx)("main",{className:"container margin-vert--lg",children:u?(0,h.jsxs)("div",{className:a.A.searchResults,children:[(0,h.jsx)("h2",{children:"\u641c\u5c0b\u4e2d..."}),(0,h.jsx)("div",{className:a.A.loader})]}):j?(0,h.jsxs)("div",{className:a.A.searchResults,children:[(0,h.jsx)("h2",{children:"\u641c\u5c0b\u932f\u8aa4"}),(0,h.jsx)("p",{className:a.A.error,children:j}),(0,h.jsxs)("div",{className:a.A.debugInfo,children:[(0,h.jsx)("h3",{children:"\u8abf\u8a66\u4fe1\u606f"}),(0,h.jsx)("p",{children:"\u5982\u679c\u60a8\u662f\u7db2\u7ad9\u7ba1\u7406\u54e1\uff0c\u8acb\u6aa2\u67e5\uff1a"}),(0,h.jsxs)("ol",{children:[(0,h.jsx)("li",{children:"static/search-index.json \u6a94\u6848\u662f\u5426\u5b58\u5728"}),(0,h.jsx)("li",{children:"\u6a94\u6848\u662f\u5426\u70ba\u6709\u6548\u7684 JSON \u683c\u5f0f"}),(0,h.jsx)("li",{children:"\u6253\u958b\u700f\u89bd\u5668\u958b\u767c\u8005\u5de5\u5177\uff0c\u5207\u63db\u5230\u7db2\u8def\u6a19\u7c64\uff0c\u5617\u8a66\u641c\u5c0b\u4e26\u67e5\u770b\u7db2\u8def\u8acb\u6c42"})]})]})]}):l?0===d.length?(0,h.jsxs)("div",{className:a.A.searchResults,children:[(0,h.jsxs)("h2",{children:["\u641c\u5c0b\u7d50\u679c: ",l]}),(0,h.jsxs)("p",{children:['\u6c92\u6709\u627e\u5230\u7b26\u5408 "',l,'" \u7684\u5167\u5bb9\u3002']}),(0,h.jsxs)("ul",{className:a.A.suggestions,children:[(0,h.jsx)("li",{children:"\u8acb\u78ba\u8a8d\u62fc\u5beb\u662f\u5426\u6b63\u78ba"}),(0,h.jsx)("li",{children:"\u5617\u8a66\u4f7f\u7528\u4e0d\u540c\u7684\u95dc\u9375\u5b57"}),(0,h.jsx)("li",{children:"\u5617\u8a66\u4f7f\u7528\u66f4\u4e00\u822c\u7684\u8a5e\u5f59"})]})]}):(0,h.jsxs)("div",{className:a.A.searchResults,children:[(0,h.jsxs)("h2",{children:["\u641c\u5c0b\u7d50\u679c: ",l]}),(0,h.jsxs)("p",{className:a.A.resultCount,children:["\u5171\u627e\u5230 ",d.length," \u500b\u7d50\u679c"]}),(0,h.jsx)("ul",{className:a.A.resultList,children:d.map(((s,e)=>(0,h.jsxs)("li",{className:a.A.resultItem,children:[(0,h.jsx)("a",{href:v(s.url),className:a.A.resultTitle,children:s.title}),s.excerpt&&(0,h.jsx)("p",{className:a.A.resultExcerpt,dangerouslySetInnerHTML:{__html:N(s.excerpt,l)}}),(0,h.jsx)("a",{href:v(s.url),className:a.A.resultLink,children:"\u67e5\u770b\u6587\u6a94 \u2192"})]},e)))})]}):(0,h.jsxs)("div",{className:a.A.searchResults,children:[(0,h.jsx)("h2",{children:"\u6587\u6a94\u641c\u5c0b"}),(0,h.jsx)("p",{children:"\u8acb\u5728\u4e0a\u65b9\u641c\u5c0b\u6846\u8f38\u5165\u95dc\u9375\u5b57\u3002"})]})})})}}}]);