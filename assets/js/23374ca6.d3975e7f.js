"use strict";(self.webpackChunkcovia_plugin_demo=self.webpackChunkcovia_plugin_demo||[]).push([[2278],{8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>a});var s=i(6540);const t={},r=s.createContext(t);function l(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(r.Provider,{value:n},e.children)}},9623:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"README","title":"Covia Docusaurus MiniSearch Plugin","description":"Covia MiniSearch Plugin is a lightweight local search solution designed for small to medium-sized knowledge base websites using Docusaurus.","source":"@site/docs/README.md","sourceDirName":".","slug":"/","permalink":"/docusaurus-plugin-minisearch-COVIA-demo/docs/","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/README.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Translate your site","permalink":"/docusaurus-plugin-minisearch-COVIA-demo/docs/tutorial-extras/translate-your-site"},"next":{"title":"Covia Docusaurus MiniSearch Plugin","permalink":"/docusaurus-plugin-minisearch-COVIA-demo/docs/README_zh"}}');var t=i(4848),r=i(8453);const l={},a="Covia Docusaurus MiniSearch Plugin",d={},c=[{value:"\ud83c\udf1f Live Demo",id:"-live-demo",level:2},{value:"File Structure",id:"file-structure",level:2},{value:"Features",id:"features",level:2},{value:"Installation",id:"installation",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Steps",id:"steps",level:3},{value:"Configuration Options",id:"configuration-options",level:2},{value:"Technical Implementation",id:"technical-implementation",level:2},{value:"Plugin Architecture",id:"plugin-architecture",level:3},{value:"Key Technologies Used",id:"key-technologies-used",level:3},{value:"How It Works",id:"how-it-works",level:3},{value:"Customization",id:"customization",level:2},{value:"Customizing Search Result Styles",id:"customizing-search-result-styles",level:3},{value:"Customizing Search Options",id:"customizing-search-options",level:3},{value:"Frequently Asked Questions",id:"frequently-asked-questions",level:2},{value:"Technical Limitations",id:"technical-limitations",level:2},{value:"Documentation Updates and Index Maintenance",id:"documentation-updates-and-index-maintenance",level:2},{value:"Updating Search Index After Adding New Documents",id:"updating-search-index-after-adding-new-documents",level:3},{value:"Method 1: Complete Site Rebuild",id:"method-1-complete-site-rebuild",level:4},{value:"Method 2: Update Index File Separately (Suitable for VPS/Server Deployment)",id:"method-2-update-index-file-separately-suitable-for-vpsserver-deployment",level:4},{value:"Path and Deployment Considerations",id:"path-and-deployment-considerations",level:3},{value:"Implementation Details and Notes",id:"implementation-details-and-notes",level:2},{value:"Multi-path Attempt Mechanism",id:"multi-path-attempt-mechanism",level:3},{value:"Smart Search Delay Functionality",id:"smart-search-delay-functionality",level:3},{value:"MiniSearch Usage Notes",id:"minisearch-usage-notes",level:3},{value:"Route Setting Notes",id:"route-setting-notes",level:3},{value:"License",id:"license",level:2}];function o(e){const n={a:"a",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"covia-docusaurus-minisearch-plugin",children:"Covia Docusaurus MiniSearch Plugin"})}),"\n",(0,t.jsxs)(n.p,{children:["Covia MiniSearch Plugin is a lightweight local search solution designed for small to medium-sized knowledge base websites using Docusaurus.",(0,t.jsx)(n.br,{}),"\n","It features quick deployment and simple integration, especially suitable for users without professional development backgrounds.",(0,t.jsx)(n.br,{}),"\n","This plugin runs entirely on the frontend without requiring additional backend server support, making it ideal for individuals, teams, and small to medium-sized projects."]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["\ud83d\udce2 ",(0,t.jsx)(n.strong,{children:"Important Notice"}),(0,t.jsx)(n.br,{}),"\n","This plugin is designed for small to medium-sized, primarily English websites.",(0,t.jsx)(n.br,{}),"\n","It is ",(0,t.jsx)(n.strong,{children:"not suitable"})," for:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Very large document repositories"}),"\n",(0,t.jsx)(n.li,{children:"Multilingual websites"}),"\n",(0,t.jsxs)(n.li,{children:["Scenarios requiring ",(0,t.jsx)(n.strong,{children:"Chinese (Traditional or Simplified) word segmentation"})]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["\u26a0\ufe0f Due to the limitations of MiniSearch tokenization, ",(0,t.jsx)(n.strong,{children:"this plugin cannot properly support Chinese search"}),". It is recommended for English or other space-separated languages."]}),"\n",(0,t.jsxs)(n.p,{children:["For advanced needs such as large-scale, multilingual, or Chinese-optimized search, please consider alternatives like ",(0,t.jsx)(n.code,{children:"@easyops-cn/docusaurus-search-local"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"-live-demo",children:"\ud83c\udf1f Live Demo"}),"\n",(0,t.jsxs)(n.p,{children:["You can view a working demo of this plugin here:",(0,t.jsx)(n.br,{}),"\n","\ud83d\udd17 ",(0,t.jsx)(n.a,{href:"https://p62003.github.io/docusaurus-plugin-minisearch-COVIA-demo/docs/",children:"https://p62003.github.io/docusaurus-plugin-minisearch-COVIA-demo/docs/"})]}),"\n",(0,t.jsx)(n.p,{children:"\ud83c\udf10 Available Languages:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/docusaurus-plugin-minisearch-COVIA-demo/docs/",children:"English (Default)"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/docusaurus-plugin-minisearch-COVIA-demo/docs/README_zh",children:"\u7e41\u9ad4\u4e2d\u6587 (Traditional Chinese)"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"file-structure",children:"File Structure"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"my-website/\r\n\u2502\r\n\u251c\u2500\u2500 plugins/\r\n\u2502   \u2502\r\n\u2502   \u2514\u2500\u2500 docusaurus-plugin-minisearch/\r\n\u2502       \u2502\r\n\u2502       \u251c\u2500\u2500 index.js\r\n\u2502       \u251c\u2500\u2500 indexGenerator.js\r\n\u2502       \u251c\u2500\u2500 SearchBar.js\r\n\u2502       \u251c\u2500\u2500 SearchResults.js\r\n\u2502       \u251c\u2500\u2500 styles.module.css\r\n\u2502       \u251c\u2500\u2500 README.md\r\n\u2502       \u2514\u2500\u2500 LICENSE\n"})}),"\n",(0,t.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Real-time Search"}),": Provides efficient, real-time frontend search experience"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Keyword Highlighting"}),": Uses multi-level matching strategies, from exact matching to fuzzy matching"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Fuzzy Search"}),": Supports spelling errors and approximate matching (allowing 20% edit distance)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Prefix Search"}),": Supports partial word matching"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Field Weighting"}),": Sets higher weight for titles (2x) to improve relevance"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Seamless Integration"}),": Perfectly integrates with Docusaurus themes, supporting light and dark mode switching"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Complete Layout"}),": Search results page includes header and footer, maintaining website consistency"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Automatic Indexing"}),": Automatically generates search index at build time and copies to multiple locations for enhanced compatibility"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Smart Search Delay"}),": Automatically enables throttling when search frequency exceeds 2 times within 3 seconds"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Multi-path Compatibility"}),": Automatically tries multiple possible index paths to ensure normal operation in different environments"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"URL Smart Repair"}),": Automatically detects base path and fixes search result links"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,t.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Docusaurus v3.0.0 or above"}),"\n",(0,t.jsx)(n.li,{children:"Node.js v16.0.0 or above"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"steps",children:"Steps"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"1. Install necessary dependencies and create plugin directory in your Docusaurus project:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Required dependencies:"}),"\n"]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Package"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Installation Command"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"minisearch"}),(0,t.jsx)(n.td,{children:"Frontend full-text search engine"}),(0,t.jsx)(n.td,{children:"npm install minisearch"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"globby"}),(0,t.jsx)(n.td,{children:"File path capture tool"}),(0,t.jsx)(n.td,{children:"npm install globby"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"gray-matter"}),(0,t.jsx)(n.td,{children:"Parse .md / .mdx front matter metadata"}),(0,t.jsx)(n.td,{children:"npm install gray-matter"})]})]})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"npm install minisearch globby gray-matter\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Create plugin directory:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"mkdir -p plugins/docusaurus-plugin-minisearch\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"2. Copy plugin files to the directory:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Copy the following files to the plugin directory\r\n# - index.js\r\n# - indexGenerator.js\r\n# - SearchBar.js\r\n# - SearchResults.js\r\n# - styles.module.css\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsxs)(n.strong,{children:["3. Add plugin configuration in ",(0,t.jsx)(n.code,{children:"docusaurus.config.js"}),":"]})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"// docusaurus.config.js\r\nconst config = {\r\n  // Other configurations...\r\n  plugins: [\r\n    [\r\n      './plugins/docusaurus-plugin-minisearch',\r\n      {\r\n        // Basic configuration (required)\r\n        indexPath: '/search-index.json',  // Search index file path\r\n        searchResultPath: '/search-results',  // Search results display page path\r\n        searchFields: ['title', 'content'],  // Fields to search\r\n        resultFields: ['title', 'url', 'excerpt'],  // Result fields to display\r\n        \r\n        // Optional configuration\r\n        maxResults: 10,  // Maximum number of results to display\r\n        highlightColor: '#ffeb3b',  // Search keyword highlight color\r\n        debounceTime: 3000  // Minimum interval for consecutive searches (milliseconds)\r\n      }\r\n    ],\r\n  ],\r\n};\n"})}),"\n",(0,t.jsx)(n.h2,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,t.jsxs)(n.p,{children:["The table below lists all available configuration options, defined in ",(0,t.jsx)(n.code,{children:"index.js"}),":"]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Option"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Default Value"}),(0,t.jsx)(n.th,{children:"Required"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"indexPath"}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:"'/search-index.json'"}),(0,t.jsx)(n.td,{children:"Optional"}),(0,t.jsx)(n.td,{children:"Search index file path"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"searchResultPath"}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:"'/search-results'"}),(0,t.jsx)(n.td,{children:"Optional"}),(0,t.jsx)(n.td,{children:"Search results display page path"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"searchFields"}),(0,t.jsx)(n.td,{children:"Array"}),(0,t.jsx)(n.td,{children:"['title', 'content']"}),(0,t.jsx)(n.td,{children:"Optional"}),(0,t.jsx)(n.td,{children:"Fields to search"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"resultFields"}),(0,t.jsx)(n.td,{children:"Array"}),(0,t.jsx)(n.td,{children:"['title', 'url', 'excerpt']"}),(0,t.jsx)(n.td,{children:"Optional"}),(0,t.jsx)(n.td,{children:"Result fields to display"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"maxResults"}),(0,t.jsx)(n.td,{children:"Number"}),(0,t.jsx)(n.td,{children:"10"}),(0,t.jsx)(n.td,{children:"Optional"}),(0,t.jsx)(n.td,{children:"Maximum number of results to display"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"highlightColor"}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:"'#ffeb3b'"}),(0,t.jsx)(n.td,{children:"Optional"}),(0,t.jsx)(n.td,{children:"Search keyword highlight color"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"debounceTime"}),(0,t.jsx)(n.td,{children:"Number"}),(0,t.jsx)(n.td,{children:"3000"}),(0,t.jsx)(n.td,{children:"Optional"}),(0,t.jsx)(n.td,{children:"Minimum interval for consecutive searches (milliseconds)"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"technical-implementation",children:"Technical Implementation"}),"\n",(0,t.jsx)(n.h3,{id:"plugin-architecture",children:"Plugin Architecture"}),"\n",(0,t.jsx)(n.p,{children:"The plugin consists of the following core components:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Index Generator (indexGenerator.js)"})," - Generates search index from document files"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Search Bar Component (SearchBar.js)"})," - Integrates into Docusaurus navigation bar, implementing smart search delay functionality"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Search Results Page (SearchResults.js)"})," - Displays search results, implements multi-level highlighting and URL repair"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Plugin Main File (index.js)"})," - Connects components, handles configuration, injects global styles"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Style File (styles.module.css)"})," - Defines styles for search bar, search results, highlighted keywords, etc."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"key-technologies-used",children:"Key Technologies Used"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"MiniSearch"})," - Lightweight but powerful frontend full-text search engine"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Docusaurus Theme API"})," - Integration with Docusaurus theme system"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"React Hooks"})," - Manage search state and index loading"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Docusaurus Plugin API"})," - Register routes and share configuration data"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"CSS Modules"})," - Component style isolation, avoiding style conflicts"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"how-it-works",children:"How It Works"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Index Generation"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Traverses all document files during build time"}),"\n",(0,t.jsx)(n.li,{children:"Extracts title, content, URL and other information"}),"\n",(0,t.jsxs)(n.li,{children:["Generates JSON index file stored in the ",(0,t.jsx)(n.code,{children:"static"})," directory"]}),"\n",(0,t.jsx)(n.li,{children:"Index file is copied to multiple locations for enhanced compatibility"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Search Process"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"User enters keywords in the navigation bar search box"}),"\n",(0,t.jsx)(n.li,{children:"Smart delay function detects search frequency, preventing frequent searches in a short time"}),"\n",(0,t.jsx)(n.li,{children:"After clicking the search button, navigates to the search results page"}),"\n",(0,t.jsx)(n.li,{children:"Search results page attempts to load the index file from multiple possible paths"}),"\n",(0,t.jsx)(n.li,{children:"Uses MiniSearch to perform searches in the browser, supporting prefix matching, fuzzy matching, and field weighting"}),"\n",(0,t.jsx)(n.li,{children:"Renders search results and highlights keywords using multi-level matching strategy"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Highlighting Implementation"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Uses multi-level matching strategy, trying in priority order:","\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:'Original query term matching (e.g., when searching for "READ")'}),"\n",(0,t.jsx)(n.li,{children:"Complete word matching (each word after tokenization)"}),"\n",(0,t.jsx)(n.li,{children:"Containing matching (words containing search terms)"}),"\n",(0,t.jsx)(n.li,{children:"Partial word matching (substrings of words with length >=3)"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Uses a combination of CSS and inline styles to ensure highlight effects display correctly in various environments"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"URL Repair Mechanism"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Automatically detects the base path of the current environment using multiple methods:","\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Get from Docusaurus meta tags"}),"\n",(0,t.jsx)(n.li,{children:"Check current URL path"}),"\n",(0,t.jsx)(n.li,{children:"Check if in local development environment"}),"\n",(0,t.jsx)(n.li,{children:"Get from search results page URL"}),"\n",(0,t.jsx)(n.li,{children:"Infer from document links"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Ensures search result links work correctly in different deployment environments"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"customization",children:"Customization"}),"\n",(0,t.jsx)(n.h3,{id:"customizing-search-result-styles",children:"Customizing Search Result Styles"}),"\n",(0,t.jsxs)(n.p,{children:["Modify the ",(0,t.jsx)(n.code,{children:"styles.module.css"})," file to customize the appearance of search results:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-css",children:"/* Modify search result item styles */\r\n.resultItem {\r\n  margin-bottom: 1.5rem;\r\n  padding: 1.25rem;\r\n  border-radius: 8px;\r\n  background-color: var(--ifm-card-background-color);\r\n  box-shadow: var(--ifm-global-shadow-lw);\r\n  transition: all 0.2s ease;\r\n  border-left: 4px solid var(--ifm-color-primary);\r\n}\r\n\r\n/* Modify highlighted keyword styles */\r\n.highlight,\r\n:global(.search-highlight) {\r\n  background-color: var(--search-highlight-color, #ffeb3b) !important;\r\n  color: #000 !important;\r\n  padding: 0 2px !important;\r\n  border-radius: 2px !important;\r\n  font-weight: bold !important;\r\n  display: inline !important;\r\n}\r\n\r\n/* Throttled state search box */\r\n.throttled {\r\n  border-color: var(--ifm-color-warning, #f0ad4e);\r\n  background-color: rgba(240, 173, 78, 0.05);\r\n  animation: pulse 1.5s infinite;\r\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"customizing-search-options",children:"Customizing Search Options"}),"\n",(0,t.jsxs)(n.p,{children:["Modify search options in ",(0,t.jsx)(n.code,{children:"SearchResults.js"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const hits = miniSearch.search(query, { \r\n  prefix: true,      // Prefix search\r\n  boost: { title: 2 }, // Title weight is 2\r\n  fuzzy: 0.2         // Fuzzy search, allowing 20% edit distance\r\n});\n"})}),"\n",(0,t.jsx)(n.h2,{id:"frequently-asked-questions",children:"Frequently Asked Questions"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Q: Will the search index increase the website size?"}),(0,t.jsx)(n.br,{}),"\n","A: Yes, but to a limited extent. For small to medium-sized documentation websites, the index is typically in the range of a few hundred KB."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Q: How to update the search index?"}),(0,t.jsx)(n.br,{}),"\n","A: The index is automatically updated each time the website is rebuilt."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Q: Do search results support multiple languages?"}),(0,t.jsx)(n.br,{}),"\n","A: Basic support is provided, but word segmentation settings may need to be adjusted for different languages."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:'Q: Why does the search results page show "Page Not Found"?'}),(0,t.jsx)(n.br,{}),"\n","A: This is usually caused by route conflicts. Make sure ",(0,t.jsx)(n.code,{children:"searchResultPath"})," is set to a value that doesn't conflict with other routes."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Q: Why does the search function still work after modifying indexPath?"}),(0,t.jsx)(n.br,{}),"\n","A: The plugin has designed multiple backup mechanisms and will try multiple possible index paths to ensure functionality even if the configuration changes."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Q: Why are multiple searches in a short time restricted?"}),(0,t.jsx)(n.br,{}),"\n","A: The plugin implements smart search delay functionality. When the number of searches exceeds 2 times within 3 seconds, the throttling mechanism is activated to prevent excessive requests."]}),"\n",(0,t.jsx)(n.h2,{id:"technical-limitations",children:"Technical Limitations"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Pure frontend search, not suitable for extremely large document repositories"}),"\n",(0,t.jsx)(n.li,{children:"Search index needs to be generated at build time, cannot include dynamic content"}),"\n",(0,t.jsx)(n.li,{children:"Currently no built-in search suggestion functionality"}),"\n",(0,t.jsx)(n.li,{children:"No specialized word segmentation optimization for Chinese and other Asian languages"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"documentation-updates-and-index-maintenance",children:"Documentation Updates and Index Maintenance"}),"\n",(0,t.jsx)(n.h3,{id:"updating-search-index-after-adding-new-documents",children:"Updating Search Index After Adding New Documents"}),"\n",(0,t.jsx)(n.p,{children:"When you add or modify documents, the search index needs to be updated to reflect the new content. There are several ways to do this:"}),"\n",(0,t.jsx)(n.h4,{id:"method-1-complete-site-rebuild",children:"Method 1: Complete Site Rebuild"}),"\n",(0,t.jsx)(n.p,{children:"The most direct method is to rebuild the entire website:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm run build\r\n# Then redeploy the website\n"})}),"\n",(0,t.jsx)(n.h4,{id:"method-2-update-index-file-separately-suitable-for-vpsserver-deployment",children:"Method 2: Update Index File Separately (Suitable for VPS/Server Deployment)"}),"\n",(0,t.jsx)(n.p,{children:"If you only added or modified document content and don't want to rebuild the entire website, you can:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Generate a new index file in the local environment:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm start\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Wait for the index generation to complete (you'll usually see a message like ",(0,t.jsx)(n.code,{children:"\u2705 search-index.json has been copied to [path] successfully"})," in the console)"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Upload the following files to your server:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The newly added document files"}),"\n",(0,t.jsxs)(n.li,{children:["The new index file located at ",(0,t.jsx)(n.code,{children:"static/search-index.json"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Make sure the index file is uploaded to the correct location, typically:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"/path-to-your-website/search-index.json"})}),"\n",(0,t.jsx)(n.li,{children:"And other paths that the plugin might try"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"This method is particularly suitable for situations where documentation is frequently updated but the website structure remains stable, saving deployment time and reducing resource consumption."}),"\n",(0,t.jsx)(n.h3,{id:"path-and-deployment-considerations",children:"Path and Deployment Considerations"}),"\n",(0,t.jsx)(n.p,{children:"In different environments (local development, GitHub Pages, self-hosted VPS, etc.), the website's base path may be different:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Local development: usually ",(0,t.jsx)(n.code,{children:"http://localhost:3000/"})]}),"\n",(0,t.jsxs)(n.li,{children:["GitHub Pages: usually ",(0,t.jsx)(n.code,{children:"https://username.github.io/repo-name/"})]}),"\n",(0,t.jsxs)(n.li,{children:["Self-hosted: could be ",(0,t.jsx)(n.code,{children:"https://your-domain.com/"})," or ",(0,t.jsx)(n.code,{children:"https://your-domain.com/docs/"})]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["The plugin will attempt to automatically detect the base path of the current environment and try multiple possible index paths, but if problems occur (e.g., incorrect search result links), you can explicitly set ",(0,t.jsx)(n.code,{children:"baseUrl"})," in ",(0,t.jsx)(n.code,{children:"docusaurus.config.js"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"module.exports = {\r\n  // ...\r\n  baseUrl: '/your-base-path/',  // e.g., '/docs/' or '/'\r\n  // ...\r\n};\n"})}),"\n",(0,t.jsx)(n.h2,{id:"implementation-details-and-notes",children:"Implementation Details and Notes"}),"\n",(0,t.jsx)(n.h3,{id:"multi-path-attempt-mechanism",children:"Multi-path Attempt Mechanism"}),"\n",(0,t.jsx)(n.p,{children:"The plugin will attempt to load the index file from multiple possible paths:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const possiblePaths = [\r\n    // Original path\r\n    indexPath,\r\n    // Relative path\r\n    './search-index.json',\r\n    // Absolute path\r\n    '/search-index.json',\r\n    // Path based on current site\r\n    window.location.pathname.split('/search-results')[0] + '/search-index.json'\r\n];\n"})}),"\n",(0,t.jsx)(n.p,{children:"This design ensures that the search function works normally even if the configuration changes."}),"\n",(0,t.jsx)(n.h3,{id:"smart-search-delay-functionality",children:"Smart Search Delay Functionality"}),"\n",(0,t.jsx)(n.p,{children:"The plugin implements smart search delay functionality, activating delay only when searches are frequent in a short period:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// Check if throttling is needed\r\nconst checkThrottle = () => {\r\n    const now = Date.now();\r\n    const history = searchHistoryRef.current;\r\n    \r\n    // Add current search time to history\r\n    history.push(now);\r\n    \r\n    // Only keep records within the last 3 seconds\r\n    const recentHistory = history.filter(time => now - time < debounceTime);\r\n    searchHistoryRef.current = recentHistory;\r\n    \r\n    // Enable throttling if search count exceeds 2 times within 3 seconds\r\n    const needThrottle = recentHistory.length > 2;\r\n    \r\n    // ...\r\n};\n"})}),"\n",(0,t.jsx)(n.h3,{id:"minisearch-usage-notes",children:"MiniSearch Usage Notes"}),"\n",(0,t.jsxs)(n.p,{children:["When using ",(0,t.jsx)(n.code,{children:"MiniSearch.loadJSON"}),", you need to pass the JSON string directly rather than the parsed object:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// Incorrect method\r\nconst rawIndex = JSON.parse(text);\r\nconst miniSearch = MiniSearch.loadJSON(rawIndex, options);\r\n\r\n// Correct method\r\nconst miniSearch = MiniSearch.loadJSON(text, options);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"route-setting-notes",children:"Route Setting Notes"}),"\n",(0,t.jsx)(n.p,{children:"Avoid conflicts between the search results path and Docusaurus default paths:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// Recommend using a dedicated path\r\nsearchResultPath = '/search-results'\r\n\r\n// Ensure exact matching\r\naddRoute({\r\n  path: searchResultPath,\r\n  component: '@theme/SearchResults',\r\n  exact: true,\r\n});\n"})}),"\n",(0,t.jsx)(n.h2,{id:"license",children:"License"}),"\n",(0,t.jsx)(n.p,{children:"This project is licensed under the MIT License."})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}}}]);